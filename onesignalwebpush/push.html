<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>The HTML5 Herald</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  
  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async="async"></script>
    <script>

    //set the day repeat here here
     var ea_day_repeat = 5/(24*60); 
     //set the second delay here
     var ea_second_delay = 5;

    function setCookie(key, value, day) {
        var expires = new Date();
        expires.setTime(expires.getTime() + (day * 24 * 60 * 60 * 1000));  
        document.cookie = key + '=' + value + ';expires=' + expires.toUTCString();
    }

    function getCookie(key) {
        var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
        return keyValue ? keyValue[2] : null;
    }

    var OneSignal = window.OneSignal || [];
    OneSignal.push(["init", {
      appId: "{your app id here}",
      autoRegister: false,
     subdomainName: '{your subdomain here}',
      httpPermissionRequest: {
        enable: false
      },
      safari_web_id: '{your safari id here}',
	    promptOptions: {
	        siteName: 'Your Site Name',
	        /* Subtitle, limited to 90 characters */
	        actionMessage: "Kumusta! I want to let you know that you can be up-to-date to our news! Just allow us.",
	        /* Example notification title */
	        exampleNotificationTitle: 'We are excited!',
	        /* Example notification message */
	        exampleNotificationMessage: 'There is an exciting cool feaure coming watchout!',
	        /* Text below example notification, limited to 50 characters */
	        exampleNotificationCaption: 'You can unsubscribe anytime',
	        /* Accept button text, limited to 15 characters */
	        acceptButtonText: "ALLOW",
	        /* Cancel button text, limited to 15 characters */
	        cancelButtonText: "NO THANKS",
          autoAcceptTitle: 'Click Allow',
	    }
    }]);

    OneSignal.push(function() {
      OneSignal.on('popoverCancelClick', function(e) {
        //the cookie  
        setCookie('reshow', '1', ea_day_repeat);
      });
      if (getCookie('reshow') != 1) {  
        window.setTimeout(function() {      
          OneSignal.showHttpPrompt(true)
        }, ea_second_delay * 1000);  
      }  
    });

    </script>

</head>

<body>
</body>
</html>
